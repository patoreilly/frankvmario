var config = {
    type: Phaser.WEBGL,
    parent: 'phaser-example',
    width: 320,
    height: 200,
    transparent: true,
    roundPixels: true,
    pixelArt: true,
    physics: {
        default: 'arcade',
        arcade: {
            //gravity: { y: 0 },
            debug: false
        }
    },

    input: {
        gamepad: true
    },
    scale: {
        mode: Phaser.Scale.EXACT,
        parent: 'phaser-example',
        autoCenter: Phaser.Scale.CENTER_BOTH,
        width: 320,
        height: 200
    },
    audio: {
        disableWebAudio: true
    },
    scene: [Setup, Main, Hud, Menus, Touchgui, About, Title, Gameover ]
};

var game = new Phaser.Game(config);

var debug;

var file_thumbs = [];
var allImageKeys = [];

//for textcallback
var i = 0;
var j = 1.0; 
var hsv = [];
var hsvindex=0;
//

// universal gui icons
var access_menu;
var accessMenuData = [
"................",
"................",
"................",
"..222222222222..",
"..222222222222..",
"................",
"................",
"..222222222222..",
"..222222222222..",
"................",
"................",
"..222222222222..",
"..222222222222..",
"................",
"................",
"................"
];

var guideInputHorizontalData = [
".........22.....",
"........222.....",
".......2222.....",
"......22222.....",
".....222222.....",
"....2222222.....",
"...22222222.....",
"..222222222.....",
"..222222222.....",
"...22222222.....",
"....2222222.....",
".....222222.....",
"......22222.....",
".......2222.....",
"........222.....",
".........22....."
];


var guideInputVerticalData = [
"................",
"................",
".......22.......",
"......2222......",
".....222222.....",
"....22222222....",
"...2222222222...",
"..222222222222..",
".22222222222222.",
"2222222222222222",
"2222222222222222",
"................",
"................",
"................",
"................",
"................"
];


var sound_off = [
"................",
".......2........",
"......22........",
".....2.2........",
"....2..2........",
".222...2.2....2.",
".2.....2..2..2..",
".2.....2...22...",
".2.....2...22...",
".2.....2..2..2..",
".222...2.2....2.",
"....2..2........",
".....2.2........",
"......22........",
".......2........",
"................"];

var sound_on = [
"................",
".......2........",
"......22........",
".....2.2...2....",
"....2..2....2...",
".222...2.2...2..",
".2.....2..2..2..",
".2.....2..2..2..",
".2.....2..2..2..",
".2.....2..2..2..",
".222...2.2...2..",
"....2..2....2...",
".....2.2...2....",
"......22........",
".......2........",
"................"];






var sound_enabled;
var fullscreen_enabled;
var touchActivated=false;
var gamepad=false;

var keys;
var cursors;

var active_objectGangs = [];
var active_og_index = 0;
var objectGangs = ['plantedrocks','flybugs','classictrees','ferns','barerocks','plants','shrooms',
                    'gems','fancytrees','firtrees','redtrees','palmtrees','baretrees','brightflowers','elegantflowers','blueorbs','neonorbs','oddtrees',
                    'frogs','pinkblobs','redwings','octos','cydrones','ufos'];
var og_index = 0;

var wallCastMask = false;

var gamedisplayImage;
var transitionTween;
var oginitflag=false;

var tilt_mode = false;
var drive_mode = false;
var demo_mode = true;
var menu_mode = true;
var game_mode = false;




var savedColumnDistances=[]; //to assist with detecting object-wall overlap


//var targetsnearcenterarray=[];
var targetData={};
var explosionspritesArray=[];
var explosionsize;

var horizontalMouseDelta=0;
var verticalMouseDelta=0;

var guide_multi_activeY;
var guide_multi;
var guide_zspeed;
var guide_left;
var guide_right;
var guide_sleft;
var guide_sright;
var guide_forward;
var guide_back;
var guide_up;
var guide_down;
var guide_shoot;

var gLeft = false;
var gRight = false;
var gForward = false;
var gBack = false;
var gStrafe = false;
var gShoot = false;

var playerHitCount = 0;

var wallMap=
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '-----------------1---1------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '-----------------1---1------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------';

var floorMap=
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------'+
                            '----------------------------------------';
























var backgroundList = [

'xvevvbz66j761.png',
'backscroll2.png',
'backscroll3.png',
'deep-space.jpg',
'shadow-of-the-beast2-karamoon.png',
'20220825_101428.jpg',
'20220825_102130.jpg',
'20220825_102143.jpg',
'20220825_100706.jpg',
'20220825_093352.jpg',
'20220821_203146.jpg',
'20220825_093631.jpg',
'20220825_094349.jpg'



// '20210413_172913.jpg',
// '20220326_073008.jpg',
// '20220404_081108.jpg',
// '20220814_204402.jpg',
// '20220814_212339.jpg',
// '20220814_212343.jpg',
// '20220814_212346.jpg',
// '20220814_212353.jpg',
// '20220814_212403.jpg',
// '20220814_212406.jpg',
// '20220814_212409.jpg',
// '20220814_212412.jpg',
// '20220814_212439.jpg',
// '20220814_212506.jpg',
// '20220814_213632.jpg',
// '20220815_170808.jpg',
// '20220815_170835.jpg',
// '20220815_175751.jpg',
// '20220815_175759.jpg',
// '20220815_175803.jpg',
// '20220815_175922.jpg',
// '20220816_070717.jpg',
// '20220817_211224.jpg',
// '20220817_211848.jpg',
// '20220818_161957.jpg',
// '20220819_211447.jpg',
// '20220821_201353.jpg',
// '20220821_202111.jpg'
// '20220821_202159.jpg',
// '20220821_203146.jpg',
// '20220821_203237.jpg',
// '20220823_072928.jpg',
// '20220825_093300.jpg',
// '20220825_093305.jpg',
// '20220825_093322.jpg',
// '20220825_093352.jpg',
// '20220825_093412.jpg',
// '20220825_093450.jpg',
// '20220825_093547.jpg',
// '20220825_093613.jpg',
// '20220825_093623.jpg',
// '20220825_093631.jpg',
// '20220825_093731.jpg',
// '20220825_093946.jpg',
// '20220825_094319.jpg',
// '20220825_094327.jpg',
// '20220825_094335.jpg',
// '20220825_094349.jpg',
// '20220825_094751.jpg',
// '20220825_094833.jpg',
// '20220825_095856.jpg',
// '20220825_100059.jpg',
// '20220825_100706.jpg',
// '20220825_100732.jpg',
// '20220825_101325.jpg',
// '20220825_101428.jpg',
// '20220825_101929.jpg',
// '20220825_102130.jpg',
// '20220825_102136.jpg',
// '20220825_102143.jpg',
// '20220825_102213.jpg',
// '20220825_102343.jpg',
// '20220825_102424.jpg',
// '20220825_102813.jpg',
// '20220825_102823.jpg',
// '20220825_105049.jpg',
// '20220825_165500.jpg',
// '20220827_151555.jpg',
// '20220827_151601.jpg'

];

var floorList = [

// 'SNES_Bowser_Castle_3_map.png',
// 'SNES_Choco_Island_2.png',
// 'SNES_Donut_Plains_2.png',
// 'SNES_Donut_Plains_3.png',
// 'SNES_Ghost_Valley_3.png',
// 'SNES_Koopa_Beach_1.png',
// 'SNES_Koopa_Beach_2.png',
// 'SNES_Mario_Circuit_2.png',
// 'SNES_Mario_Circuit_3_map.png',
// 'SNES_Rainbow_Road.png'
// 'SNES_Vanilla_Lake_1.png'
// 'SNES_Bowser_Castle_3_map.png',
// 'SNES_Koopa_Beach_1.png',
'rpg1.png',
'rpg11.png',
'rpg12.png',
'rpg14.png',
'rpg16.png',
'rpg19.png',
'rpg21.png',
'rpg20.png'
// 'SNES_Mario_Circuit_2.png',

];

var floorData = [

// {'tilesize':2560},
// {'tilesize':2560},
{'tilesize':64},
{'tilesize':64},
{'tilesize':64},
{'tilesize':64},
{'tilesize':64},
{'tilesize':64},
{'tilesize':64},
{'tilesize':64}
//{'tilesize':2560}

];

var wallList = [

'transparent64x64.png',
'transparent64x64.png',
'rpg3.png',
'rpg5.png',
'rpg6.png',
'rpg7.png',
'rpg9.png',
'rpg10.png',
'rpg15.png',
'rpg18.png'

];

var wallData = [

{'height':64,'width':64},
{'height':200,'width':64},
{'height':64,'width':64},
{'height':64,'width':64},
{'height':64,'width':64},
{'height':64,'width':64},
{'height':64,'width':64},
{'height':64,'width':64},
{'height':64,'width':64},
{'height':64,'width':64}

];

var objectList = [


'flybug_anim_52x34x3.png',
'octo_anim_29x27x4.png',
'cydrone_anim_20x26x4.png',
'ufo_anim_29x26x40.png',

'frog_anim_26x24x23.png',
'pinkblob_anim_28x32x12.png',
'redwing_anim_32x24x4.png',


'red_ball.png',
'purple_ball.png',
'yellow_ball.png',
'ball1.png',
'ball2.png',
'ball3.png',
'ball4.png',
'fern1.png',
'fern2.png',
'fern3.png',
'fern4.png',
'fern5.png',
'fern6.png',
'fern7.png',
'fern8.png',
'flower1.png',
'flower2.png',
'flower3.png',
'flower4.png',
'flower5.png',
'flower6.png',
'flower7.png',
'flower8.png',
'rock1.png',
'rock2.png',
'rock3.png',
'rock4.png',
'rock5.png',
'rock6.png',
'rock7.png',
'rock8.png',
'tree1.png',
'tree2.png',
'tree3.png',
'tree4.png',
'tree5.png',
'tree6.png',
'tree7.png',
'tree8.png',
'tree9.png',
'tree10.png',
'tree11.png',
'tree12.png',
'tree13.png',
'tree14.png',
'tree15.png',
'tree16.png',
'gem1.png',
'gem2.png',
'gem3.png',
'gem4.png',
'gem5.png',
'gem6.png',
'plant1.png',
'plant2.png',
'plant3.png',
'plant4.png',
'plant5.png',
'plant6.png',
'shroom1.png',
'shroom2.png',
'shroom3.png',
'shroom4.png'


];